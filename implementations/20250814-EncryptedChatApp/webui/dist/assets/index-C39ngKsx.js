import{c as T,j as s,B as h,T as b,a as m,b as f,A as w,d as j,C as E,e as A}from"./ui-B7Td6aV7.js";import{c as O,r as u,a as v}from"./vendor-DFrXMbSk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}})();var g={},x=O;g.createRoot=x.createRoot,g.hydrateRoot=x.hydrateRoot;const I=T({palette:{mode:"light",primary:{main:"#2196f3",light:"#bbdefb",dark:"#0d47a1"},secondary:{main:"#9c27b0",light:"#e1bee7",dark:"#4a148c"},success:{main:"#4caf50"},warning:{main:"#ff9800"},error:{main:"#f44336"},background:{default:"#fafafa",paper:"#ffffff"}},typography:{fontFamily:"'Inter', 'Roboto', 'Helvetica', 'Arial', sans-serif",h1:{fontSize:"2.125rem",fontWeight:300,lineHeight:1.167},h2:{fontSize:"1.5rem",fontWeight:400,lineHeight:1.2},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.5},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.43}},spacing:8,shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:20}}},MuiCard:{styleOverrides:{root:{boxShadow:"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)"}}}}}),C=()=>{const[p,n]=u.useState("test@example.com"),[l,c]=u.useState("password123"),[t,o]=u.useState(""),[a,d]=u.useState(!1),y=async()=>{console.log("=== Direct API Test ==="),d(!0),o("Testing...");try{const e=await fetch("http://localhost:3000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:l})});if(console.log("Response status:",e.status),console.log("Response headers:",[...e.headers.entries()]),e.ok){const r=await e.json();console.log("Login success:",r),o("SUCCESS: "+JSON.stringify(r,null,2)),localStorage.setItem("authToken",r.token),setTimeout(()=>{window.location.reload()},2e3)}else{const r=await e.text();console.error("Login failed:",e.status,r),o("FAILED: "+e.status+" - "+r)}}catch(e){console.error("Request error:",e),o("ERROR: "+e.message)}finally{d(!1)}},S=async()=>{console.log("=== Registration Test ==="),d(!0),o("Testing registration...");try{const e=Date.now(),r=await fetch("http://localhost:3000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:`testuser${e}`,email:`test${e}@example.com`,password:"password123"})});if(r.ok){const i=await r.json();console.log("Registration success:",i),o("REGISTRATION SUCCESS: "+JSON.stringify(i,null,2))}else{const i=await r.text();console.error("Registration failed:",i),o("REGISTRATION FAILED: "+i)}}catch(e){console.error("Registration error:",e),o("REGISTRATION ERROR: "+e.message)}finally{d(!1)}},R=()=>{const e=localStorage.getItem("authToken"),r={VITE_API_URL:"http://localhost:3000",VITE_WS_URL:"ws://localhost:3000"};o("AUTH STATE: "+JSON.stringify({hasToken:!!e,tokenPreview:e?e.substring(0,20)+"...":null,envVars:r},null,2))};return s.jsxs(h,{sx:{p:4,maxWidth:600,mx:"auto"},children:[s.jsx(b,{variant:"h4",gutterBottom:!0,children:"ðŸ”§ Auth Debug Tool"}),s.jsxs(h,{sx:{mb:2},children:[s.jsx(m,{fullWidth:!0,label:"Email",value:p,onChange:e=>n(e.target.value),margin:"normal"}),s.jsx(m,{fullWidth:!0,label:"Password",type:"password",value:l,onChange:e=>c(e.target.value),margin:"normal"})]}),s.jsxs(h,{sx:{mb:2},children:[s.jsx(f,{variant:"contained",onClick:y,disabled:a,sx:{mr:1},children:"Test Login"}),s.jsx(f,{variant:"outlined",onClick:S,disabled:a,sx:{mr:1},children:"Test Registration"}),s.jsx(f,{variant:"text",onClick:R,children:"Check State"})]}),t&&s.jsx(w,{severity:t.includes("SUCCESS")?"success":t.includes("ERROR")||t.includes("FAILED")?"error":"info",children:s.jsx("pre",{style:{whiteSpace:"pre-wrap",fontSize:"12px"},children:t})})]})};function L(){return console.log("=== Minimal App Starting ==="),console.log("Environment:",{API_URL:"http://localhost:3000",WS_URL:"ws://localhost:3000"}),s.jsxs(j,{theme:I,children:[s.jsx(E,{}),s.jsx(A,{children:s.jsx(C,{})})]})}g.createRoot(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(L,{})}));
//# sourceMappingURL=index-C39ngKsx.js.map
