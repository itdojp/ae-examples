\* TLA+ Model Configuration for ReadStatus
\* 既読ステータス管理システム モデル検査設定

SPECIFICATION Spec

\* 定数の定義
CONSTANTS
    Users = {alice, bob, charlie}
    Messages = {msg1, msg2, msg3, msg4}
    Devices = {phone_a, tablet_a, pc_b, phone_b, tablet_c}
    MaxReadStatus = 20

\* 不変条件 (Invariants)
INVARIANTS
    DeviceUniqueness
    OnlineDevicesRegistered
    ReadStatusForExistingMessages
    ReadStatusFromRegisteredDevices
    MessageIdUniqueness
    ReadStatusUniqueness
    ReadStatusTemporalOrder
    NoReadFromOfflineDevices
    TypeInvariant
    FinitenesConstraint

\* 活性・機能特性 (Properties)
PROPERTIES
    EventualReadPossibility
    DeviceSpecificReadTracking
    ConversationReadAggregation

\* 状態制約（メモリ制限対応）
CONSTRAINT
    /\ Cardinality(messages) <= 6
    /\ Cardinality(readStatus) <= 15
    /\ Cardinality(onlineDevices) <= 4

\* モデル検査設定
\* - 最大探索深度: 15
\* - ワーカー数: 4
\* - 対称性削減: 有効（Users, Devices, Messages）